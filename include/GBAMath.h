#ifndef GBA_Math
#define GBA_Math

#include "../include/GBATypes.h"
#include "../include/GBARegisters.h"

u16 costable[] = 
{
    65535, 65496, 65446, 65377, 65287, 65177, 65048, 64899, 64730, 64541, 
    64333, 64105, 63858, 63591, 63305, 63000, 62675, 62332, 61969, 61588, 
    61187, 60769, 60331, 59876, 59402, 58910, 58400, 57872, 57327, 56765, 
    56185, 55588, 54974, 54343, 53696, 53032, 52352, 51657, 50945, 50218, 
    49476, 48719, 47947, 47160, 46359, 45544, 44715, 43873, 43017, 42148, 
    41266, 40372, 39465, 38546, 37616, 36674, 35721, 34757, 33783, 32798, 
    31803, 30799, 29785, 28762, 27731, 26691, 25643, 24587, 23523, 22453, 
    21375, 20291, 19201, 18105, 17004, 15897, 14786, 13670, 12550, 11426, 
    10298,  9168,  8035,  6899,  5761,  4621,  3480,  2338,  1195,     0
};

u16 sintable[] =
{
        0,  1195,  2338,  3480,  4621,  5761,  6899,  8035,  9168, 10298, 
    11426, 12550, 13670, 14786, 15897, 17004, 18105, 19201, 20291, 21375, 
    22453, 23523, 24587, 25643, 26691, 27731, 28762, 29785, 30799, 31803, 
    32798, 33783, 34757, 35721, 36674, 37616, 38546, 39465, 40372, 41266, 
    42148, 43017, 43873, 44715, 45544, 46359, 47160, 47947, 48719, 49476, 
    50218, 50945, 51657, 52352, 53032, 53696, 54343, 54974, 55588, 56185, 
    56765, 57327, 57872, 58400, 58910, 59402, 59876, 60331, 60769, 61187, 
    61588, 61969, 62332, 62675, 63000, 63305, 63591, 63858, 64105, 64333, 
    64541, 64730, 64899, 65048, 65177, 65287, 65377, 65446, 65496, 65535
};

s16 fastcos(u8 degrees)
{
    degrees %= 360;

    if (degrees > 270)
    {
        return costable[90-degrees%90];
    }
    if (degrees > 180)
    {
        return -costable[90-degrees%90];
    }
    if (degrees > 90)
    {
        return -costable[degrees%90];
    }
    else
    {
        return costable[degrees%90];
    }
}

s16 fastsin(u8 degrees)
{
    degrees %= 360;
    
    if (degrees > 270)
    {
        return -sintable[90-degrees%90];
    }
    if (degrees > 180)
    {
        return -sintable[degrees%90];
    }
    if (degrees > 90)
    {
        return sintable[90-degrees%90];
    }
    else
    {
        return sintable[degrees%90];
    }
}

#endif